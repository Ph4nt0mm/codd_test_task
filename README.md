# Тестовое задание для ЦОДД

## Парсинг новостей о метро
'''
Написать API, которое получает новости за заданный период из базы
и парсер который каждые 10 минут парсит новости
с сайта http://mosday.ru/news/tags.php?metro
(достаточно будет просто взять те новости что есть
при первой загрузке)
и сохраняет в базу с меткой когда эти новости спаршены,

пример метода
/metro/news?day=5
в качестве ответа вернуть JSON новости которые о
публикованы за последний 5 дней (включительно)

заголовок
url картинки
дата публикации (YYYY-mm-dd)

что использовать
flask/fastapi, docker + любая база
----------------


## Запуск
Приложение можно запустить либо через командную строку, либо в docker-compose

### Через командную строку

Понадобится
```commandline
python3.9
Postgresql
```

Запустив Postgresql, прописать конфиги подключения в `settings/env`

```commandline
PG_HOST - хост БД
PG_PORT - порт БД
PG_USER - имя пользователя
PG_PASSWORD - пароль пользователя 
PG_DATABASE - название БД
```

Запуск
```commandline
python -m venv venv
source ./venv/bin/activate
pip install -r requirements.txt
python run.py
python worker.py 
```

